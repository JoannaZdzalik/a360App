<div class="container text-center borderBox" data-ng-controller="StatisticsController" data-ng-init="init()">

    <h2 class="text-center">{{sectionTitles[0]}}</h2>

    <div class="text-center" >
        <h3 class="toLeft">{{sectionTitles[1]}}</h3>
        <p class="toLeft" ng-if="activeSessions.length ===0">No active sessions at the moment</p>
        <table class="table table-bordered mt-20" ng-if="activeSessions.length !==0">
            <thead>
            <tr>
                <th scope="col" class="centerHeader">{{tableHeaders[0]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[1]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[2]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[3]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[4]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[5]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[6]}}</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="session in activeSessions">
                <td scope="col"></td>
                <td scope="col">{{session.sessionName}}</td>
                <td scope="col">
                    {{formatEndDate(session.endDate)}}
                </td>
                <td scope="col">{{session.participantList.length}}</td>
                <th scope="col" class="participantListLeft">
                    <div ng-repeat="part in session.participantList">
                        {{$index+1}}. {{part.email}}
                    </div>
                </th>
                <td scope="col">
                    <div ng-repeat="part in session.participantList">
                        <div ng-repeat="feedback in allFeedbacks" ng-if="feedback.participantUid===part.UId">
                            {{feedback.answers.length}} answers
                        </div>
                    </div>
                </td>
                <td scope="col" >
                    <button data-a360-loading="" data-show="showLoader" type="submit" class="btn btn-primary setActionButton" ng-click="setInactive(session.sessionName)" uib-tooltip="{{deactivateTooltip}}" >
                        Deactivate session
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="text-center">
        <h3 class="toLeft">{{sectionTitles[2]}}</h3>
        <p class="toLeft" ng-if="inactiveSessions.length ===0">No inactive sessions at the moment</p>
        <table class="table table-bordered mt-20" ng-if="inactiveSessions.length !==0">
            <thead>
            <tr>
                <th scope="col" class="centerHeader">{{tableHeaders[0]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[1]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[2]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[3]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[4]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[5]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[6]}}</th>
            </tr>
            </thead>
            <tbody >
            <tr ng-repeat="session in inactiveSessions">
                <td scope="col"></td>
                <td scope="col">{{session.sessionName}}</td>
                <td scope="col">
                    {{formatEndDate(session.endDate)}}
                </td>
                <td scope="col">{{session.participantList.length}}</td>
                <th scope="col" class="participantListLeft">
                    <div ng-repeat="part in session.participantList">
                        {{$index+1}}. {{part.email}}
                    </div>
                </th>
                <td scope="col">
                    <div ng-repeat="part in session.participantList">
                        <div ng-repeat="feedback in allFeedbacks" ng-if="feedback.participantUid===part.UId">
                            {{feedback.answers.length}} answers
                        </div>
                    </div>
                </td>
                <td scope="col">
                    <button type="submit" class="btn btn-default" ng-click="delete(session.id)">
                        <i class="glyphicon glyphicon-trash"></i>
                    </button>
                    <button data-a360-loading="" data-show="showLoader" type="submit" class="btn btn-primary setActionButton" ng-click="setActive(session.sessionName)" uib-tooltip="{{activateTooltip}}" >
                        Activate session
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="text-center">
        <h3 class="toLeft">{{sectionTitles[3]}}</h3>
        <p class="toLeft" ng-if="finishedSessions.length ===0">No finished sessions to display</p>
        <table class="table table-bordered mt-20" ng-if="finishedSessions.length !==0">
            <thead>
            <tr>
                <th scope="col" class="centerHeader">{{tableHeaders[0]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[1]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[2]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[3]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[4]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[5]}}</th>
                <th scope="col" class="centerHeader">{{tableHeaders[6]}}</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="session in finishedSessions">
                <td scope="col"></td>
                <td scope="col">{{session.sessionName}}</td>
                <td scope="col">
                    {{formatEndDate(session.endDate)}}
                </td>
                <td scope="col">{{session.participantList.length}}</td>
                <th scope="col" class="participantListLeft">
                    <div ng-repeat="part in session.participantList">
                        {{$index+1}}. {{part.email}}
                    </div>
                </th>
                <td scope="col">
                    <div ng-repeat="part in session.participantList">
                        <div ng-repeat="feedback in allFeedbacks" ng-if="feedback.participantUid===part.UId">
                            {{feedback.answers.length}} answers
                        </div>
                    </div>
                </td>
                <td scope="col">
                    <button type="submit" class="btn btn-default" ng-click="delete(session.id)"><i
                            class="glyphicon glyphicon-trash"></i>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>


    <div class="row text-center mt-20 mb-20 toLeft marginL10">
        <button type="submit" class="btn btn-primary" ng-click="goBackToWelcomePage()">
            Go back
        </button>
    </div>

</div>



